{% extends 'base.html' %}
{% block title %}{{ _('Share Password') }} â€“ PQ Vault{% endblock %}

{% block content %}
<div class="page-header">
    <div>
        <h1 class="page-title">ğŸ”— {{ _('Share Password') }}</h1>
        <p class="page-sub">{{ entry.website }}</p>
    </div>
    <a href="{{ url_for('main.index') }}" class="btn btn-ghost">â† {{ _('Back') }}</a>
</div>

<div class="form-card">
    <form method="POST">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
        <div class="form-group">
            <label class="form-label">ğŸ‘¤ {{ _('Share with username') }}</label>
            <div class="input-group">
                <input type="text" name="username" class="form-input" placeholder="{{ _('Enter username') }}" required>
                <button type="submit" class="btn btn-primary">ğŸ”— {{ _('Share') }}</button>
            </div>
        </div>
    </form>

    {% if shared_users %}
    <div style="margin-top:1.5rem">
        <p class="form-label">{{ _('Currently shared with:') }}</p>
        <ul style="list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:.5rem">
            {% for u in shared_users %}
            <li
                style="display:flex;align-items:center;gap:.75rem;padding:.75rem;background:var(--surface-2);border-radius:10px">
                <div
                    style="width:32px;height:32px;background:linear-gradient(135deg,#6366f1,#8b5cf6);border-radius:8px;display:flex;align-items:center;justify-content:center;font-weight:700">
                    {{ u.username[0].upper() }}
                </div>
                <span>{{ u.username }}</span>
            </li>
            {% endfor %}
        </ul>
    </div>
    {% endif %}
</div>
{% endblock %}