{% extends "base.html" %}
{% block title %}{{ _('Reset Password') }} â€” PQ Vault{% endblock %}

{% block auth_content %}
<div class="auth-page">
    <div class="auth-card">
        <div class="auth-logo">
            <div class="logo-badge">ğŸ”</div>
            <h1 class="auth-title">{{ _('Reset Password') }}</h1>
            <p class="auth-subtitle">{{ _('Enter the 6-digit code and your new password') }}</p>
        </div>

        <div
            style="background:rgba(239,68,68,0.08);border:1px solid rgba(239,68,68,0.2);border-radius:10px;padding:0.85rem;margin-bottom:1.5rem;font-size:0.8rem;color:var(--text-2)">
            âš ï¸ <strong style="color:#ef4444">{{ _('Data Loss Warning') }}</strong>:
            {{ _('Resetting your password will make all your current vault entries unreadable. You will need to start a
            fresh vault.') }}
        </div>

        <form method="POST">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

            <div class="form-group">
                <label for="code">{{ _('6-Digit Verification Code') }}</label>
                <input type="text" id="code" name="code" class="form-control" placeholder="123456" pattern="\d{6}"
                    maxlength="6" required>
            </div>

            <div class="form-group">
                <label for="password">{{ _('New Password') }}</label>
                <input type="password" id="password" name="password" class="form-control"
                    placeholder="{{ _('At least 8 characters') }}" minlength="8" required>
            </div>

            <div class="form-group">
                <label for="confirm">{{ _('Confirm New Password') }}</label>
                <input type="password" id="confirm" name="confirm" class="form-control"
                    placeholder="{{ _('Repeat new password') }}" required>
            </div>

            <button type="submit" class="btn btn-primary" style="width:100%;justify-content:center;padding:0.85rem">
                ğŸ”“ {{ _('Reset & Overwrite Vault') }}
            </button>
        </form>

        <p style="text-align:center;margin-top:1.5rem;font-size:0.875rem;color:var(--text-2)">
            <a href="{{ url_for('auth.forgot_password') }}" style="color:var(--accent);text-decoration:none">
                {{ _('Resend internal code?') }}
            </a>
        </p>
    </div>
</div>
{% endblock %}